<div id="api-doc" class="bs-docs-section">
    <i id="api-coll-doc"></i> <!-- anchor for restheart docs curies -->
    <h2>The Document resources</h2>
    <p class="lead">
        The Document resources allow you to manage your mongodb documents. 
        <br/>
        The operations described in this section are part of the data API, i.e. they are used for CRUD operations on data.
    </p>
</div>

<div id="api-doc-get" class="bs-docs-section">
    <h3><code>GET /&lt;dbname&gt;/&lt;collname&gt;/&lt;docid&gt;</code></h3>

    <p class="lead">
        returns the HAL representation of the document with id &lt;docid&gt; in the collection &lt;collname&gt; of the db &lt;dbname&gt
    </p>

    <table class="table table-condensed">
        <thead>
        <p class="lead">Return codes</p>
        <tr>
            <th>code</th>
            <th>when</th>
            <th>details</th>
        </tr>
        </thead>
        <tbody>
            <tr>
                <td class="bg-success">200 OK</td>
                <td>the request completed successfully</td>
                <td/>
            </tr>
            <tr>
                <td class="bg-success">304 NOT MODIFIED</td>
                <td>the request completed successfully and the client side cached entity (identified by the ETag) is valid.</td>
                <td/>
            </tr>
            <tr>
                <td class="bg-danger">401 UNAUTHORIZED</th>
                <td>the authentication failed or the authenticated user is not authorized to request this resource</td>
                <td></td>
            </tr>
            <tr>
                <td class="bg-danger">403 FORBIDDEN</th>
                <td>no authentication credentials sent</td>
                <td>this is only sent for requests with No-Auth-Challgenge header or noauthchallenge query parameter</td>
            </tr>
            <tr>
                <td class="bg-danger">404 NOT FOUND</th>
                <td>if the resource does not exist</td>
                <td></td>
            </tr>
            <tr>
                <td class="bg-danger">500 INTERNAL SERVER ERROR</th>
                <td>an error occurred (e.g. mongodb is down)</td>
                <td>a response document is sent with detailed information about the error, including the complete stack trace of the exception as an embedded resource</td>
            </tr>
        </tbody>
    </table>

    <table class="table table-condensed">
        <thead>
        <p class="lead">Headers</p>
        <tr>
            <th>header</th>
            <th>mandatory</th>
            <th>type</th>
            <th>description</th>
        </tr>
        </thead>
        <tbody>
            <tr>
                <td>Authorization</td>
                <td>no</td>
                <td>request</td>
                <td>basic authentication required according to the security policy.</td>
            </tr>
            <tr>
                <td>Accept-Encoding</td>
                <td>no (yes in case configuration <code>force-gzip-encoding</code> is true)</td>
                <td>request</td>
                <td>gzip encoding can be requested</td>
            </tr>
            <tr>
                <td>No-Auth-Challenge</td>
                <td>no</td>
                <td>request</td>
                <td>requests with this header will not be challenged for basic authentication (i.e. will not get the WWW-Authenticate response header). this can also be achieved passing the noauthchallenge query parameter.</td>
            </tr>
            <tr>
                <td>If-None-Match</td>
                <td>no</td>
                <td>request</td>
                <td>to allow etag based caching.</td>
            </tr>
        </tbody>
    </table>

    <p class="lead">Examples</p>

    {% highlight json %}

                          example here

    {% endhighlight %}
</div>

<div id="api-doc-put" class="bs-docs-section">
    <h3><code>PUT /&lt;dbname&gt;/&lt;collname&gt;/&lt;docid&gt;</code></h3>

    <p class="lead">
        creates or updates the document with id &lt;docid&gt in the collection /&lt;collname&gt; of the db &lt;dbname&gt
    </p>

    <div class="bs-callout bs-callout-info">
        <p>
            PUT has upsert semantic: if the resource exists it will be updated, otherwise it will be created.
        </p>
    </div>

    {% include_relative v0.9/fragments/api-common-put.html %}

    <p class="lead">Examples</p>

    {% highlight json %}

                          example here

    {% endhighlight %}
</div>

<div id="api-coll-patch" class="bs-docs-section">
    <h3><code>PATCH /&lt;dbname&gt;/&lt;collname&gt;/&lt;docid&gt;</code></h3>

    <p class="lead">
        partially updates the the document with id &lt;docid&gt in the collection /&lt;collname&gt; of the db &lt;dbname&gt
    </p>

    {% include_relative v0.9/fragments/api-common-patch.html %}

    <p class="lead">Examples</p>

    {% highlight json %}

                          example here

    {% endhighlight %}
</div>

<div id="api-doc-delete" class="bs-docs-section">
    <h3><code>DELETE /&lt;dbname&gt;/&lt;collname&gt;/&lt;docid&gt;</code></h3>

    <p class="lead">
        deletes the the document with id &lt;docid&gt in the collection /&lt;collname&gt; of the db &lt;dbname&gt
    </p>

    {% include_relative v0.9/fragments/api-common-delete.html %}

    <p class="lead">Examples</p>

    {% highlight json %}

                          example here

    {% endhighlight %}
</div>